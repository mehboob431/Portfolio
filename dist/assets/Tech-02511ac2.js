import{r as u,j as R,a as A}from"./index-8ccb3d97.js";import{x as K,i as T,h as $,af as P,ag as Q,ae as N,l as v,a7 as X,ah as Y,z as V,ai as I,k as tt,aj as et,ak as ot,N as rt,C as nt,a as st,O as at,P as it}from"./index-43782085.esm-d129df28.js";import{S as lt}from"./SectionWrapper-8357df85.js";import{t as ut}from"./index-34fcbf1a.js";import"./styles-bea25d13.js";import"./motion-450c8899.js";class ct extends K{constructor(m,d,f,z){super();const c=[],M=[],O=[],y=new T,x=new $;x.makeRotationFromEuler(f),x.setPosition(d);const k=new $;k.copy(x).invert(),B(),this.setAttribute("position",new P(c,3)),this.setAttribute("normal",new P(M,3)),this.setAttribute("uv",new P(O,2));function B(){let t,e=[];const n=new T,s=new T;if(m.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const o=m.geometry,w=o.attributes.position,h=o.attributes.normal;if(o.index!==null){const i=o.index;for(t=0;t<i.count;t++)n.fromBufferAttribute(w,i.getX(t)),s.fromBufferAttribute(h,i.getX(t)),E(e,n,s)}else for(t=0;t<w.count;t++)n.fromBufferAttribute(w,t),s.fromBufferAttribute(h,t),E(e,n,s);for(e=g(e,y.set(1,0,0)),e=g(e,y.set(-1,0,0)),e=g(e,y.set(0,1,0)),e=g(e,y.set(0,-1,0)),e=g(e,y.set(0,0,1)),e=g(e,y.set(0,0,-1)),t=0;t<e.length;t++){const i=e[t];O.push(.5+i.position.x/z.x,.5+i.position.y/z.y),i.position.applyMatrix4(x),c.push(i.position.x,i.position.y,i.position.z),M.push(i.normal.x,i.normal.y,i.normal.z)}}function E(t,e,n){e.applyMatrix4(m.matrixWorld),e.applyMatrix4(k),n.transformDirection(m.matrixWorld),t.push(new q(e.clone(),n.clone()))}function g(t,e){const n=[],s=.5*Math.abs(z.dot(e));for(let o=0;o<t.length;o+=3){let w,h,i,G=0,l,p,b,D;const j=t[o+0].position.dot(e)-s,S=t[o+1].position.dot(e)-s,L=t[o+2].position.dot(e)-s;switch(w=j>0,h=S>0,i=L>0,G=(w?1:0)+(h?1:0)+(i?1:0),G){case 0:{n.push(t[o]),n.push(t[o+1]),n.push(t[o+2]);break}case 1:{if(w&&(l=t[o+1],p=t[o+2],b=a(t[o],l,e,s),D=a(t[o],p,e,s)),h){l=t[o],p=t[o+2],b=a(t[o+1],l,e,s),D=a(t[o+1],p,e,s),n.push(b),n.push(p.clone()),n.push(l.clone()),n.push(p.clone()),n.push(b.clone()),n.push(D);break}i&&(l=t[o],p=t[o+1],b=a(t[o+2],l,e,s),D=a(t[o+2],p,e,s)),n.push(l.clone()),n.push(p.clone()),n.push(b),n.push(D),n.push(b.clone()),n.push(p.clone());break}case 2:{w||(l=t[o].clone(),p=a(l,t[o+1],e,s),b=a(l,t[o+2],e,s),n.push(l),n.push(p),n.push(b)),h||(l=t[o+1].clone(),p=a(l,t[o+2],e,s),b=a(l,t[o],e,s),n.push(l),n.push(p),n.push(b)),i||(l=t[o+2].clone(),p=a(l,t[o],e,s),b=a(l,t[o+1],e,s),n.push(l),n.push(p),n.push(b));break}}}return n}function a(t,e,n,s){const o=t.position.dot(n)-s,w=e.position.dot(n)-s,h=o/(o-w);return new q(new T(t.position.x+h*(e.position.x-t.position.x),t.position.y+h*(e.position.y-t.position.y),t.position.z+h*(e.position.z-t.position.z)),new T(t.normal.x+h*(e.normal.x-t.normal.x),t.normal.y+h*(e.normal.y-t.normal.y),t.normal.z+h*(e.normal.z-t.normal.z)))}}}class q{constructor(m,d){this.position=m,this.normal=d}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const W=r=>r===Object(r)&&!Array.isArray(r)&&typeof r!="function";function C(r,m){const d=Q(c=>c.gl),f=N(v,W(r)?Object.values(r):r);return u.useLayoutEffect(()=>{m==null||m(f)},[m]),u.useEffect(()=>{if("initTexture"in d){let c=[];Array.isArray(f)?c=f:f instanceof X?c=[f]:W(f)&&(c=Object.values(f)),c.forEach(M=>{M instanceof X&&d.initTexture(M)})}},[d,f]),u.useMemo(()=>{if(W(r)){const c={};let M=0;for(const O in r)c[O]=f[M++];return c}else return f},[r,f])}C.preload=r=>N.preload(v,r);C.clear=r=>N.clear(v,r);function ft(r){return Array.isArray(r)}function F(r=[0,0,0]){return ft(r)?r:r instanceof T||r instanceof Y?[r.x,r.y,r.z]:[r,r,r]}const pt=u.forwardRef(function({debug:m,depthTest:d=!1,polygonOffsetFactor:f=-10,map:z,mesh:c,children:M,position:O,rotation:y,scale:x,...k},B){const E=u.useRef(null);u.useImperativeHandle(B,()=>E.current);const g=u.useRef(null),a=u.useRef({position:new T,rotation:new Y,scale:new T(1,1,1)});return u.useLayoutEffect(()=>{const t=(c==null?void 0:c.current)||E.current.parent,e=E.current;if(!(t instanceof V))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');if(t){I(a.current,{position:O,scale:x});const n=t.matrixWorld.clone();if(t.matrixWorld.identity(),!y||typeof y=="number"){const s=new tt;s.position.copy(a.current.position);const o=t.geometry.attributes.position.array;t.geometry.attributes.normal===void 0&&t.geometry.computeVertexNormals();const w=t.geometry.attributes.normal.array;let h=1/0;new T;let i=new T;const G=s.position.x,l=s.position.y,p=s.position.z,b=o.length;let D=-1;for(let j=0;j<b;j+=3){const S=o[j],L=o[j+1],J=o[j+2],H=S-G,U=L-l,Z=J-p,_=H*H+U*U+Z*Z;_<h&&(h=_,D=j)}i.fromArray(w,D),s.lookAt(s.position.clone().add(i)),s.rotateZ(Math.PI),s.rotateY(Math.PI),typeof y=="number"&&s.rotateZ(y),I(a.current,{rotation:s.rotation})}else I(a.current,{rotation:y});return e.geometry=new ct(t,a.current.position,a.current.rotation,a.current.scale),t.matrixWorld=n,()=>{e.geometry.dispose()}}},[c,...F(O),...F(x),...F(y)]),u.useLayoutEffect(()=>{g.current&&(I(g.current,a.current),g.current.traverse(t=>t.raycast=()=>null))},[m]),u.createElement("mesh",et({ref:E,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":f,"material-depthTest":d,"material-map":z},k),M,m&&u.createElement("mesh",{ref:g},u.createElement("boxGeometry",null),u.createElement("meshNormalMaterial",{wireframe:!0}),u.createElement("axesHelper",null)))}),mt=u.forwardRef(({children:r,enabled:m=!0,speed:d=1,rotationIntensity:f=1,floatIntensity:z=1,floatingRange:c=[-.1,.1],autoInvalidate:M=!1,...O},y)=>{const x=u.useRef(null);u.useImperativeHandle(y,()=>x.current,[]);const k=u.useRef(Math.random()*1e4);return ot(B=>{var E,g;if(!m||d===0)return;M&&B.invalidate();const a=k.current+B.clock.elapsedTime;x.current.rotation.x=Math.cos(a/4*d)/8*f,x.current.rotation.y=Math.sin(a/4*d)/8*f,x.current.rotation.z=Math.sin(a/4*d)/20*f;let t=Math.sin(a/4*d)/10;t=rt.mapLinear(t,-.1,.1,(E=c==null?void 0:c[0])!==null&&E!==void 0?E:-.1,(g=c==null?void 0:c[1])!==null&&g!==void 0?g:.1),x.current.position.y=t*z,x.current.updateMatrix()}),u.createElement("group",O,u.createElement("group",{ref:x,matrixAutoUpdate:!1},r))}),ht=r=>{const[m]=C([r.imgUrl]);return R(mt,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[A("ambientLight",{intensity:.25}),A("directionalLight",{position:[0,0,.05]}),R("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[A("icosahedronGeometry",{args:[1,1]}),A("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),A(pt,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:m,flatShading:!0})]})]})},dt=({icon:r})=>R(nt,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[R(u.Suspense,{fallback:A(st,{}),children:[A(at,{enableZoom:!1}),A(ht,{imgUrl:r})]}),A(it,{all:!0})]}),yt=()=>A("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:ut.map(r=>A("div",{className:"w-28 h-28",children:A(dt,{icon:r.icon})},r.name))}),Et=lt(yt,"");export{Et as default};
